{"ast":null,"code":"// POINT [Concurrent Mode]useTransitionでユーザビリティを向上\nimport{useState,useTransition}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const generateDummyItem=num=>{return new Array(num).fill(null).map((item,index)=>\"item \".concat(index));};const dummyItems=generateDummyItem(10000);const Example=()=>{const[isPending,startTransition]=useTransition();const[filterVal,setFilterVal]=useState(\"\");const changeHandler=e=>{startTransition(()=>{setFilterVal(e.target.value);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:changeHandler}),isPending&&/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}),/*#__PURE__*/_jsx(\"ul\",{children:dummyItems.filter(item=>{if(filterVal===\"\")return true;return item.includes(filterVal);}).map(item=>/*#__PURE__*/_jsx(\"li\",{children:item},item))})]});};export default Example;","map":{"version":3,"names":["useState","useTransition","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","generateDummyItem","num","Array","fill","map","item","index","concat","dummyItems","Example","isPending","startTransition","filterVal","setFilterVal","changeHandler","e","target","value","children","type","onChange","filter","includes"],"sources":["C:/Users/user/Documents/work/react-guide-material/15_performance/src/060_useTransition/end/Example.js"],"sourcesContent":["// POINT [Concurrent Mode]useTransitionでユーザビリティを向上\r\nimport { useState, useTransition } from \"react\";\r\n\r\nconst generateDummyItem = (num) => {\r\n  return new Array(num).fill(null).map((item, index) => `item ${index}`);\r\n};\r\n\r\nconst dummyItems = generateDummyItem(10000);\r\n\r\nconst Example = () => {\r\n  const [isPending, startTransition] = useTransition();\r\n  const [filterVal, setFilterVal] = useState(\"\");\r\n\r\n  const changeHandler = (e) => {\r\n    startTransition(() => {\r\n      setFilterVal(e.target.value);\r\n    })\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <input type=\"text\" onChange={changeHandler} />\r\n      {isPending && <div>Loading...</div>}\r\n      <ul>\r\n        {dummyItems\r\n          .filter((item) => {\r\n            if (filterVal === \"\") return true;\r\n            return item.includes(filterVal);\r\n          })\r\n          .map((item) => (\r\n            <li key={item}>{item}</li>\r\n          ))}\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Example;\r\n"],"mappings":"AAAA;AACA,OAASA,QAAQ,CAAEC,aAAa,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhD,KAAM,CAAAC,iBAAiB,CAAIC,GAAG,EAAK,CACjC,MAAO,IAAI,CAAAC,KAAK,CAACD,GAAG,CAAC,CAACE,IAAI,CAAC,IAAI,CAAC,CAACC,GAAG,CAAC,CAACC,IAAI,CAAEC,KAAK,WAAAC,MAAA,CAAaD,KAAK,CAAE,CAAC,CACxE,CAAC,CAED,KAAM,CAAAE,UAAU,CAAGR,iBAAiB,CAAC,KAAK,CAAC,CAE3C,KAAM,CAAAS,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAACC,SAAS,CAAEC,eAAe,CAAC,CAAGlB,aAAa,CAAC,CAAC,CACpD,KAAM,CAACmB,SAAS,CAAEC,YAAY,CAAC,CAAGrB,QAAQ,CAAC,EAAE,CAAC,CAE9C,KAAM,CAAAsB,aAAa,CAAIC,CAAC,EAAK,CAC3BJ,eAAe,CAAC,IAAM,CACpBE,YAAY,CAACE,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAC9B,CAAC,CAAC,CACJ,CAAC,CAED,mBACElB,KAAA,CAAAF,SAAA,EAAAqB,QAAA,eACEvB,IAAA,UAAOwB,IAAI,CAAC,MAAM,CAACC,QAAQ,CAAEN,aAAc,CAAE,CAAC,CAC7CJ,SAAS,eAAIf,IAAA,QAAAuB,QAAA,CAAK,YAAU,CAAK,CAAC,cACnCvB,IAAA,OAAAuB,QAAA,CACGV,UAAU,CACRa,MAAM,CAAEhB,IAAI,EAAK,CAChB,GAAIO,SAAS,GAAK,EAAE,CAAE,MAAO,KAAI,CACjC,MAAO,CAAAP,IAAI,CAACiB,QAAQ,CAACV,SAAS,CAAC,CACjC,CAAC,CAAC,CACDR,GAAG,CAAEC,IAAI,eACRV,IAAA,OAAAuB,QAAA,CAAgBb,IAAI,EAAXA,IAAgB,CAC1B,CAAC,CACF,CAAC,EACL,CAAC,CAEP,CAAC,CAED,cAAe,CAAAI,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}