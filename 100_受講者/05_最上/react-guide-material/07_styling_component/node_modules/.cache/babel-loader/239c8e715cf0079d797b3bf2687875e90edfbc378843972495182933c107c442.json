{"ast":null,"code":"import { useCallback, useRef, useState, useEffect } from 'react';\nimport { createNanoEvents } from './nano-events';\nvar mainbus = createNanoEvents();\nvar subscribeCounter = 0;\nvar onFocusIn = function onFocusIn(event) {\n  return mainbus.emit('assign', event.target);\n};\nvar onFocusOut = function onFocusOut(event) {\n  return mainbus.emit('reset', event.target);\n};\nvar useDocumentFocusSubscribe = function useDocumentFocusSubscribe() {\n  useEffect(function () {\n    if (!subscribeCounter) {\n      document.addEventListener('focusin', onFocusIn);\n      document.addEventListener('focusout', onFocusOut);\n    }\n    subscribeCounter += 1;\n    return function () {\n      subscribeCounter -= 1;\n      if (!subscribeCounter) {\n        document.removeEventListener('focusin', onFocusIn);\n        document.removeEventListener('focusout', onFocusOut);\n      }\n    };\n  }, []);\n};\nvar getFocusState = function getFocusState(target, current) {\n  if (target === current) {\n    return 'self';\n  }\n  if (current.contains(target)) {\n    return 'within';\n  }\n  return 'within-boundary';\n};\nexport var useFocusState = function useFocusState() {\n  var _useState = useState(false),\n    active = _useState[0],\n    setActive = _useState[1];\n  var _useState2 = useState(''),\n    state = _useState2[0],\n    setState = _useState2[1];\n  var ref = useRef(null);\n  var focusState = useRef({});\n  useEffect(function () {\n    if (ref.current) {\n      setActive(ref.current === document.activeElement || ref.current.contains(document.activeElement));\n      setState(getFocusState(document.activeElement, ref.current));\n    }\n  }, []);\n  var onFocus = useCallback(function (e) {\n    focusState.current = {\n      focused: true,\n      state: getFocusState(e.target, e.currentTarget)\n    };\n  }, []);\n  useDocumentFocusSubscribe();\n  useEffect(function () {\n    var fout = mainbus.on('reset', function () {\n      focusState.current = {};\n    });\n    var fin = mainbus.on('assign', function () {\n      setActive(focusState.current.focused || false);\n      setState(focusState.current.state || '');\n    });\n    return function () {\n      fout();\n      fin();\n    };\n  }, []);\n  return {\n    active: active,\n    state: state,\n    onFocus: onFocus,\n    ref: ref\n  };\n};","map":{"version":3,"names":["useCallback","useRef","useState","useEffect","createNanoEvents","mainbus","subscribeCounter","onFocusIn","event","emit","target","onFocusOut","useDocumentFocusSubscribe","document","addEventListener","removeEventListener","getFocusState","current","contains","useFocusState","_useState","active","setActive","_useState2","state","setState","ref","focusState","activeElement","onFocus","e","focused","currentTarget","fout","on","fin"],"sources":["C:/Users/user/Documents/work/react-guide-material/07_styling_component/node_modules/react-focus-lock/dist/es2015/use-focus-state.js"],"sourcesContent":["import { useCallback, useRef, useState, useEffect } from 'react';\nimport { createNanoEvents } from './nano-events';\nvar mainbus = createNanoEvents();\nvar subscribeCounter = 0;\nvar onFocusIn = function onFocusIn(event) {\n  return mainbus.emit('assign', event.target);\n};\nvar onFocusOut = function onFocusOut(event) {\n  return mainbus.emit('reset', event.target);\n};\nvar useDocumentFocusSubscribe = function useDocumentFocusSubscribe() {\n  useEffect(function () {\n    if (!subscribeCounter) {\n      document.addEventListener('focusin', onFocusIn);\n      document.addEventListener('focusout', onFocusOut);\n    }\n    subscribeCounter += 1;\n    return function () {\n      subscribeCounter -= 1;\n      if (!subscribeCounter) {\n        document.removeEventListener('focusin', onFocusIn);\n        document.removeEventListener('focusout', onFocusOut);\n      }\n    };\n  }, []);\n};\nvar getFocusState = function getFocusState(target, current) {\n  if (target === current) {\n    return 'self';\n  }\n  if (current.contains(target)) {\n    return 'within';\n  }\n  return 'within-boundary';\n};\nexport var useFocusState = function useFocusState() {\n  var _useState = useState(false),\n    active = _useState[0],\n    setActive = _useState[1];\n  var _useState2 = useState(''),\n    state = _useState2[0],\n    setState = _useState2[1];\n  var ref = useRef(null);\n  var focusState = useRef({});\n  useEffect(function () {\n    if (ref.current) {\n      setActive(ref.current === document.activeElement || ref.current.contains(document.activeElement));\n      setState(getFocusState(document.activeElement, ref.current));\n    }\n  }, []);\n  var onFocus = useCallback(function (e) {\n    focusState.current = {\n      focused: true,\n      state: getFocusState(e.target, e.currentTarget)\n    };\n  }, []);\n  useDocumentFocusSubscribe();\n  useEffect(function () {\n    var fout = mainbus.on('reset', function () {\n      focusState.current = {};\n    });\n    var fin = mainbus.on('assign', function () {\n      setActive(focusState.current.focused || false);\n      setState(focusState.current.state || '');\n    });\n    return function () {\n      fout();\n      fin();\n    };\n  }, []);\n  return {\n    active: active,\n    state: state,\n    onFocus: onFocus,\n    ref: ref\n  };\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}